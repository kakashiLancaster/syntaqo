[build]
  publish = "."   # لأن ملفات الموقع (HTML/CSS/JS) في نفس المجلد
  command = ""

# ==============================
# 🔐 حماية الموقع بالكامل
# ==============================
[[headers]]
  for = "/*"
  [headers.values]
    # إجبار HTTPS وتفعيل HSTS
    Strict-Transport-Security = "max-age=63072000; includeSubDomains; preload"

    # منع عرض الموقع داخل iframes (حماية من Clickjacking)
    X-Frame-Options = "DENY"

    # منع التخمين التلقائي للنوع (ضد XSS)
    X-Content-Type-Options = "nosniff"

    # حماية الخصوصية عند التنقل بين الصفحات
    Referrer-Policy = "strict-origin-when-cross-origin"

    # سياسات الأذونات (منع الوصول للكاميرا/الميكروفون...الخ)
    Permissions-Policy = "camera=(), microphone=(), geolocation=(), fullscreen=(self)"

    # تعطيل الحماية القديمة ضد XSS (نتركها 0 لأن CSP أقوى)
    X-XSS-Protection = "0"

    # سياسات أمان المحتوى (CSP)
    # ⚠️ إذا تستخدم مكتبات خارجية (مثل jQuery أو Bootstrap CDN) أضفها هنا تحت script-src
    Content-Security-Policy = "default-src 'self'; img-src 'self' data:; style-src 'self' 'unsafe-inline'; script-src 'self'; frame-ancestors 'none'; base-uri 'self'; form-action 'self';"

    # منع التخزين المؤقت لصفحات حساسة
    Cache-Control = "no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0"
    Content-Security-Policy-Report-Only = "default-src 'none'; script-src 'self'; connect-src 'self'; img-src 'self'; style-src 'self'; report-uri https://iridescent-tartufo-41a912.netlify.app/"
